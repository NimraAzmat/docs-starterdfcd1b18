# Usage

## 5.1 API Endpoints
```
[
  {
    path: '/user/token',
    methods: [ 'POST' ],
    middlewares: [ 'refreshToken' ]
  },
  {
    path: '/user/logout',
    methods: [ 'DELETE' ],
    middlewares: [ 'logoutUser' ]
  },
  {
    path: '/user/login',
    methods: [ 'POST' ],
    middlewares: [ 'login' ]
  },
  {
    path: '/fetch-data/:userId',
    methods: [ 'GET' ],
    middlewares: [ 'authenticateToken', 'fetchUserData' ]
  },
  {
    path: '/user/signup',
    methods: [ 'POST' ],
    middlewares: [ 'signup' ]
  },
  {
    path: '/user/update/:userId',
    methods: [ 'PUT' ],
    middlewares: [ 'authenticateToken', 'updateUserData' ]
  },
  {
    path: '/delete-user/:userId',
    methods: [ 'DELETE' ],
    middlewares: [ 'authenticateToken', 'deleteUser' ]
  },
  {
    path: '/conv/conversations',
    methods: [ 'POST' ],
    middlewares: [ 'authenticateToken', 'createConversations' ]
  },
  {
    path: '/conv/update/:id',
    methods: [ 'PUT' ],
    middlewares: [ 'authenticateToken', 'updateConversations' ]
  },
  {
    path: '/conv/conversations/:id',
    methods: [ 'GET' ],
    middlewares: [ 'authenticateToken', 'getConversations' ]
  },
  {
    path: '/conv/conversation/:conversationId/message',
    methods: [ 'POST' ],
    middlewares: [ 'authenticateToken', 'addMessageToConversation' ]
  }
]
```

### **Sample Response:**

```json
{
  "currency": {
    "forex": {
      /* Forex rates */
    },
    "crypto": {
      /* Crypto rates */
    }
  }
}
```

**URL:** http://host:port/extract/currency/1707138422
**Method:** GET

## Request Example

```http
GET http://host:port/extract/currency/1707138422
```

## Response Example

```json
HTTP/1.1 200 OK
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 2722
ETag: W/"aa2-xmwHpB0mzbCkT2NoIgnxTHD7rZI"
Date: Wed, 28 Feb 2024 12:16:35 GMT
Connection: close

{
  "currency": {
    "forex": {
      ...
    },
    "crypto": {
      ...
    }
  }
}
```

## Documentation:

- API Endpoint: http://localhost:port/

### Sample Usage:

```bash
torsocks curl -X POST http://localhost:port/user/login -H 'Content-Type: application/json'   -d '{  "username": "SadRedCat",
    "password": "*******"
}'

```
### Postman Setup:
- Open Postman.
- Create a new request.
- Set the request type to GET.
- Enter the URL: http://host:port/endpoint
- Click "Send" to execute the request.
- You should see the response.

## Alternative Curl Command:

```bash
curl -X GET "http://{address}:port/extract/currency/1707138422"
```

